'use strict';(function(){for(var M=16/9,H=[],Y=function(d){H=[].concat(_dmpesplayer._(H),[d]);return function(){H=H.filter(function(a){return a!==d})}},ia=function(){H.forEach(function(d){return d()});H=[]},N=[],T=function(d,a,e,b){var g=d.on(a,e,b);N=[].concat(_dmpesplayer._(N),[g]);d=function(){g();N=N.filter(function(u){return u!==g})};Y(d);return d},Z=function(d){var a;return null===(a=d._do_not_use_c1b466afe7706875e934.rootNode)||void 0===a?void 0:a.querySelector(".dailymotion-player-wrapper")},
aa=function(d){var a;return null===(a=d._do_not_use_c1b466afe7706875e934.rootNode)||void 0===a?void 0:a.querySelector(".dailymotion-player")},h={state:{},prevState:{},defaultState:{isRunning:!1,displayMode:null,isSmallViewportDisplay:!1,isExpanded:!1,isPipCustomPosition:!1,hasPipBanner:!1,hasRequestedPipNative:!1,uiActionOrigin:null,playerSelectedForPip:null,playerSelectedForPipNative:null,pipPositionX:null,pipPositionY:null,pipTransformSmallViewportCollapsed:null},nonPersistentStateProps:["uiActionOrigin"],
onStateChange:function(){},setState:function(d){var a=this;this.nonPersistentStateProps.forEach(function(e){Object.prototype.hasOwnProperty.call(d,e)||(d=_dmpesplayer.h({},d,{},_dmpesplayer.j({},e,a.defaultState[e])))});this.prevState=_dmpesplayer.h({},this.prevState,{},this.state);this.state=_dmpesplayer.h({},this.state,{},d);this.onStateChange(this.prevState,this.state)}},n=function(d){h.setState(d)},O=null,ba=!1,I=!1,B=null,U=Object.values(window.dailymotion._do_not_use_c1b466afe7706875e934.players),
P=0;P<U.length;P++)if("off"!==U[P]._do_not_use_c1b466afe7706875e934.settings.pip){ba=U[P]._do_not_use_c1b466afe7706875e934.settings.enableStartPipExpanded;break}var C=function(){return window.innerWidth<=_dmpesplayer.B.SMALL?"small":"large"},G=function(){return"small"===C()},ca=function(d){return G()?Q()||I||(null===d||void 0===d?0:d.adIsPlaying)?!0:!1:!1},ka=function(d,a){var e=function(g){g&&n({isExpanded:ca(),displayMode:C(),isSmallViewportDisplay:G()});K(d)};ja(d,a);T(d,_dmpesplayer.d.PUBLIC.VIDEO_PLAY,
function(){n({hasPipBanner:d.getSettings().enableGooglePolicyUi&&d.getSettings().enablePlaybackControls})});e();var b=_dmpesplayer.k(window,"resize",e);Y(function(){b();da(d);document.body.offsetWidth;B&&(B(),B=null)})},R=function(d,a,e){h.state.isRunning&&!I&&(O=a?!0:!1,n({hasPipBanner:d.getSettings().enableGooglePolicyUi&&d.getSettings().enablePlaybackControls,isExpanded:O,uiActionOrigin:e}),K(d,{animate:!1}))},K=function e(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},g=b.animate;
b=b.computePlayerIframeSizes;da(a,{animate:void 0===g?!1:g,computePlayerIframeSizes:void 0===b?!0:b});var u=a._do_not_use_c1b466afe7706875e934.rootNode,r=Z(a);g=aa(a);var c=Q()||I,f=h.state.hasPipBanner;b=la();var l=b.dynamicWidth,v=b.dynamicHeight,k=document.documentElement.clientWidth,p=Math.round(k/M)+(f?32:0);r.id="dailymotion-pip-".concat(C(),"-viewport");b={large:{defaultPositionX:"right",defaultPositionY:"bottom",defaultMargin:"".concat(20,"px")},small:{defaultPositionX:"left",defaultPositionY:"top",
defaultMargin:"0px"}}[C()];var t=b.defaultPositionX,y=b.defaultPositionY,D=b.defaultMargin,m=function(q){return getComputedStyle(document.querySelector("#".concat(r.id))).getPropertyValue(q)};b=function(q){return""!==m("--position-".concat(q)).trim()};b("top")||b("bottom")||r.style.setProperty("--position-".concat(y),D);b("left")||b("right")||r.style.setProperty("--position-".concat(t),D);!b("bottom")&&B&&(B(),B=null);b("bottom")&&G()&&!B&&(B=_dmpesplayer.k(window,"scroll",function(){e(a,{computePlayerIframeSizes:!1})}));
t=G()&&(b("bottom")||b("right")||m("--position-top")!==D||m("--position-left")!==D);y=b("left")||b("top")||m("--position-bottom")!==D||m("--position-right")!==D;var w=b("left")?"left":"right",A=b("top")?"top":"bottom",E=getComputedStyle(r),L=function(){return"large"===C()?f?v+32:v:c?p:f?136:104},J=function(){return"large"===C()?l:k};Object.assign(r.style,{boxShadow:"0 0.25rem 0.5rem rgba(0, 0, 0, 0.2)",height:"".concat(L(),"px"),position:"fixed",transform:function(){for(var q=[],x=r.parentNode;x!==
document&&x;)q.push(x),x=x.parentNode;x=document.documentElement.scrollLeft?document.documentElement.scrollLeft:q.reduce(function(V,W){return V+W.scrollLeft},0);q=document.documentElement.scrollTop?document.documentElement.scrollTop:q.reduce(function(V,W){return V+W.scrollTop},0);if("rtl"===E.direction){if("right"===w)var z=document.documentElement.clientWidth;"left"===w&&(z=J());z-=u.getBoundingClientRect().right}else"right"===w&&(z=document.documentElement.clientWidth-J()),"left"===w&&(z=0),z-=
u.getBoundingClientRect().left;z-=x;var F;"bottom"===A&&(F=window.innerHeight-L());"top"===A&&(F=0);F=F-u.getBoundingClientRect().top-q;q="right"===w?"-":"+";x="bottom"===A?"-":"+";return"translate(\n      calc(".concat(z,"px ").concat(q," ").concat("0.00001"!==parseFloat(E.marginRight).toPrecision(1)?"".concat(parseFloat(E.marginRight),"px"):"left"!==w||isNaN(m("--position-left").trim())?"right"!==w||isNaN(m("--position-right").trim())?"var(--position-".concat(w,")"):"".concat(Number(m("--position-right")),
"px"):"".concat(Number(m("--position-left")),"px"),"),\n      calc(").concat(F,"px ").concat(x," ").concat("0.00001"!==parseFloat(E.marginBottom).toPrecision(1)?"".concat(parseFloat(E.marginBottom),"px"):"top"!==A||isNaN(m("--position-top").trim())?"bottom"!==A||isNaN(m("--position-bottom").trim())?"var(--position-".concat(A,")"):"".concat(Number(m("--position-bottom")),"px"):"".concat(Number(m("--position-top")),"px"),")\n    )")}(),transition:"none",width:"".concat(J(),"px"),zIndex:2147483647,bottom:"unset",
left:"unset",right:"unset",top:"unset",borderRadius:"".concat("large"===C()?"0.5rem":"0rem")});b=null;G()&&(Object.assign(g,{height:"".concat(p,"px"),width:"".concat(k,"px")}),b=Math.round((p-104)/2),Object.assign(g.style,{height:"".concat(p,"px"),transition:"none",transform:c?"translate(0px,0px)":"translate(0px, -".concat(b,"px)"),width:"".concat(k,"px")}));n({isPipCustomPosition:t||y,pipPositionX:r.getBoundingClientRect().x,pipPositionY:r.getBoundingClientRect().y,uiActionOrigin:h.state.uiActionOrigin,
pipTransformSmallViewportCollapsed:b})},Q=function(){return O||null===O&&ba?!0:!1},da=function(a){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},b=e.animate;b=void 0===b?!1:b;e=e.computePlayerIframeSizes;e=void 0===e?!0:e;var g=Z(a),u=aa(a);g.removeAttribute("id");g.style.removeProperty("--position-top");g.style.removeProperty("--position-left");g.style.removeProperty("--position-bottom");g.style.removeProperty("--position-right");Object.assign(g.style,_dmpesplayer.h({boxShadow:"unset"},
b?{}:{height:"100%"},{position:"absolute",transform:"translate(0px,0px)",width:"100%",zIndex:"auto",margin:"0.00001px",borderRadius:"0px"}));e&&(Object.assign(u,{height:"100%",width:"100%"}),Object.assign(u.style,{height:"100%",transform:"translate(0px,0px)",transition:"none",width:"100%"}))},la=function(){var a=window.innerWidth;if(a<=_dmpesplayer.B.MEDIUM)return{dynamicWidth:410,dynamicHeight:Math.round(410/M)};if(a>=_dmpesplayer.B.LARGE)return{dynamicWidth:560,dynamicHeight:Math.round(560/M)};
var e=_dmpesplayer.B.LARGE-_dmpesplayer.B.MEDIUM;a=Math.round((a-_dmpesplayer.B.LARGE+e)/e*150)+410;return{dynamicWidth:a,dynamicHeight:Math.round(a/M)}},ja=function(a,e){(I=e.adIsPlaying)?ea(a):fa(a)},fa=function(a){T(a,_dmpesplayer.d.PUBLIC.AD_START,function(){I=!0;n({hasPipBanner:a.getSettings().enableGooglePolicyUi&&a.getSettings().enableAdsControls});Q()||n({isExpanded:G()});K(a);ea(a)},{once:!0})},ea=function(a){T(a,_dmpesplayer.d.PUBLIC.AD_END,function(){I=!1;n({hasPipBanner:a.getSettings().enableGooglePolicyUi&&
a.getSettings().enablePlaybackControls});Q()||n({isExpanded:!1});K(a);fa(a)},{once:!0})},X=function(){},S=function(){},ma=function(){n(_dmpesplayer.h({},h.defaultState));X=function(c){a();e();b();g();u();r();S(c)};var a=_dmpesplayer.m(_dmpesplayer.d.PUBLIC.PLAYER_VIEWABILITYCHANGE,function(c){var f=c.viewable,l=c.wasViewableAtLeastOnce,v=c.uiActionOrigin,k=window.dailymotion._do_not_use_c1b466afe7706875e934.players[c.id];if(k&&"off"!==k._do_not_use_c1b466afe7706875e934.settings.pip&&!(h.state.playerSelectedForPip&&
k!==h.state.playerSelectedForPip||h.state.playerSelectedForPipNative)){var p=k.isEligibleForPipDisplay(l);c=p.status;p=p.reason;_dmpesplayer.l.log("PiP","Viewability change received\n        - is player viewable : ".concat(f,"\n        - is player eligible for PIP display : ").concat(c," (").concat(p,")"));f?S(v||"scroll"):!f&&k.isEligibleForPipDisplay(l).status&&k.getState().then(function(t){ha(k,t,l||"instant"!==k._do_not_use_c1b466afe7706875e934.settings.pip?"scroll":"instant_start")})}}),e=_dmpesplayer.m(_dmpesplayer.d.PUBLIC.PLAYER_PRESENTATION_MODE_CHANGE,
function(c){var f=c.playerPresentationMode,l=window.dailymotion._do_not_use_c1b466afe7706875e934.players[c.id];l&&("inline"===f&&h.state.playerSelectedForPipNative===l&&n({playerSelectedForPipNative:null}),"nativePip"===f?(n({playerSelectedForPipNative:l}),h.state.hasRequestedPipNative&&n({hasRequestedPipNative:!1}),h.state.playerSelectedForPip&&S("pip_native_icon")):l.getState().then(function(v){v.playerIsViewable||ha(l,v,"pip_native_icon")}))}),b=_dmpesplayer.m(_dmpesplayer.d.PRIVATE.CLOSE_PIP_REQUESTED,
function(){X("close_icon")}),g=_dmpesplayer.m(_dmpesplayer.d.PRIVATE.BACK_TO_INLINE_DISPLAY_REQUESTED,function(){var c=h.state.playerSelectedForPip;c._do_not_use_c1b466afe7706875e934.observer.setUIActionOrigin("back_icon");c._do_not_use_c1b466afe7706875e934.rootNode.scrollIntoView({block:"start"})}),u=_dmpesplayer.m(_dmpesplayer.d.PRIVATE.COLLAPSE_PIP_REQUESTED,function(){R(h.state.playerSelectedForPip,!1,"toggle_icon")}),r=_dmpesplayer.m(_dmpesplayer.d.PRIVATE.EXPAND_PIP_REQUESTED,function(){R(h.state.playerSelectedForPip,
!0,"toggle_icon")})},ha=function(a,e,b){if(!h.state.isRunning&&window.dailymotion._do_not_use_c1b466afe7706875e934.playerSelectedForPip===a&&!h.state.playerSelectedForPipNative){S=function(c){h.state.isRunning&&(ia(),n({isPipCustomPosition:!1,isRunning:!1,hasPipBanner:!1,pipPositionX:null,pipPositionY:null,playerSelectedForPip:null,uiActionOrigin:c}),h.onStateChange=function(){},"close_icon"!==c&&"api_call"!==c||a.pause())};h.onStateChange=function(c,f){var l=c.isRunning,v=c.isExpanded,k=f.isRunning,
p=f.isExpanded,t=f.uiActionOrigin,y=f.playerSelectedForPipNative;t={playerPipDisplay:"".concat(f.displayMode,"Viewport"),playerPipIsExpanded:p,playerPipStatus:"close_icon"===t?"closed":"enabled",playerPresentationMode:k?"pip":y?"nativePip":"inline"};y=a._do_not_use_c1b466afe7706875e934.id;Object.assign(a._do_not_use_c1b466afe7706875e934.stateFromPES,t);l!==k&&_dmpesplayer.e(_dmpesplayer.d.PUBLIC.PLAYER_PRESENTATIONMODECHANGE,_dmpesplayer.h({id:y},t));v!==p&&_dmpesplayer.e(_dmpesplayer.d.PUBLIC.PLAYER_PIPEXPANDEDCHANGE,
_dmpesplayer.h({id:y},t));l=c.isSmallViewportDisplay;v=c.isExpanded;k=c.isPipCustomPosition;p=c.hasPipBanner;t=c.hasRequestedPipNative;y=c.pipPositionX;var D=c.pipPositionY,m=c.pipTransformSmallViewportCollapsed,w=f.isRunning,A=f.isSmallViewportDisplay,E=f.isExpanded,L=f.isPipCustomPosition,J=f.hasPipBanner,q=f.hasRequestedPipNative,x=f.uiActionOrigin,z=f.pipPositionX,F=f.pipPositionY;f=f.pipTransformSmallViewportCollapsed;if(c.isRunning!==w||l!==A||v!==E||p!==J||k!==L||t!==q||y!==z||D!==F||m!==f)c=
{isRunning:w,isSmallViewportDisplay:A,isExpanded:E,isPipCustomPosition:L,hasPipBanner:J,hasRequestedPipNative:q,uiActionOrigin:x,screenId:window.dailymotion._do_not_use_c1b466afe7706875e934.screenId,pipPositionX:z,pipPositionY:F,pipTransformSmallViewportCollapsed:f},_dmpesplayer.l.log("PipEmitter","Sending new PIP state to player :",c),_dmpesplayer.s(a,_dmpesplayer.C.NOTIFY_PIP_CHANGED,c)};var g=a.getSettings().enableGooglePolicyUi,u=!e.adIsPlaying&&a.getSettings().enablePlaybackControls,r=e.adIsPlaying&&
a.getSettings().enableAdsControls;n({hasPipBanner:g&&(u||r),isRunning:!0,uiActionOrigin:b,displayMode:C(),isSmallViewportDisplay:G(),isExpanded:ca(e),playerSelectedForPip:a});ka(a,e)}};window.dailymotion.pipResume=function(){ma()};window.dailymotion.pipClose=function(){X("api_call")};window.dailymotion.pipExpand=function(){R(h.state.playerSelectedForPip,!0,"api_call")};window.dailymotion.pipCollapse=function(){R(h.state.playerSelectedForPip,!1,"api_call")};window.dailymotion.pipRepaint=function(){K(h.state.playerSelectedForPip)}})()
